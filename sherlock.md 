# Sherlock Holmes â€“ The Case of the Purloined Packet ğŸ•µï¸â€â™‚ï¸

*Ein vollstÃ¤ndiger Linuxâ€‘Krimi in 15 Lektionen â€“ inklusive ErklÃ¤rungen, Cheats und Aufgaben*

London, 1895â€¯Â½: Unbekannte haben vertrauliche Telegraphenâ€‘Depeschen entwendet und in einem dampfbetriebenen **Ubuntuâ€‘Mainframe** versteckt. Inspectorâ€¯Lestrade ruft **Sherlock Holmes** â€“ und Holmes wÃ¤hlt **dich** als technischen Assistenten. Jeder Linuxâ€‘Befehl ist ein Puzzleteil, das zum TÃ¤ter fÃ¼hrt.

> *â€Die Commandâ€‘Line, Watson, ist der zuverlÃ¤ssigste aller Informanten.â€œ* â€“ S.â€¯Holmes

ğŸ **Voraussetzung:**â€¯FÃ¼hre zunÃ¤chst das Bashâ€‘Script `setup_sherlock.sh` aus. Es legt alle Dateien & Verzeichnisse an, die in den Kapiteln verwendet werden.

---

## ğŸ“œÂ Inhaltsverzeichnis

1. [`pwd`](#kapitel-1)Â â€“ Standort prÃ¼fen
2. [`ls`](#kapitel-2)Â â€“ Dateien sichten
3. [`cd`](#kapitel-3)Â â€“ Verzeichnis wechseln
4. [`touch`](#kapitel-4)Â â€“ Spuren legen
5. [`cat`Â &Â `less`](#kapitel-5)Â â€“ Akten lesen
6. [`cp`](#kapitel-6)Â â€“ Beweise kopieren
7. [`mv`](#kapitel-7)Â â€“ UmbenennenÂ & verschieben
8. [`mkdir`](#kapitel-8)Â â€“ Verstecke bauen
9. [`rm`](#kapitel-9)Â â€“ Spuren tilgen
10. [`file`](#kapitel-10)Â â€“ Typ bestimmen
11. [`find`](#kapitel-11)Â â€“ Stadt durchkÃ¤mmen
12. [`history`](#kapitel-12)Â â€“ Chronik prÃ¼fen
13. [`man`,Â `help`,Â `whatis`](#kapitel-13)Â â€“ Doku nutzen
14. [`alias`](#kapitel-14)Â â€“ AbkÃ¼rzungen
15. [`exit`](#kapitel-15)Â â€“ Fall beenden
16. [LÃ¶sung](#lÃ¶sung-spoiler)

---

## KapitelÂ 1Â â€“ `pwd`

### Szene

Baker Street, frÃ¼her Morgen. Holmes zeigt auf das Terminal: â€Wo sind wir, Watson?â€œ

### Was macht der Befehl?

`pwd` (**p**rint **w**orking **d**irectory) gibt den absoluten Pfad des aktuellen Verzeichnisses aus.

### Warum brauche ich ihn?

* Orientierung in tiefen Projektstrukturen
* Logging in Skripten (â€Startpfad notierenâ€œ)

### Cheatâ€¯Sheet

```bash
pwd          # logischer Pfad
pwd -P       # physischer Pfad (Symlinks auflÃ¶sen)
```

*SymlinkÂ = symbolischer Link, eine Art Weiterleitung. `pwd -P` zeigt den echten Speicherort.*

### Beispiele aus dem Fall

```bash
$ pwd
/home/holmes/Investigation
$ pwd -P
```

### Handsâ€‘onÂ Mission ğŸ”

FÃ¼hre `pwd` aus und notiere den Pfad â€“ dein Basislager.

### HolmesianÂ Insight

> Bei automatisierten Backups prÃ¼ft `pwd` vorab, ob du im richtigen Ordner startest.

### Quizfrage

**Wie zeigst du den physischen Pfad?** â†’Â `pwd -P`

---

## KapitelÂ 2Â â€“ `ls`

### Szene

Archivraum des Innenministeriums. Akten liegen Ã¼berall â€“ eine schnelle Auflistung muss her.

### Was macht der Befehl?

`ls` listet Dateien und Verzeichnisse.

### Warum brauche ich ihn?

* Ãœberblick Ã¼ber Inhalte & Rechte
* Anzeigen versteckter Dotâ€‘Files (`-a`)

### Cheatâ€¯Sheet

```bash
ls            # Kurzliste
ls -l         # Langformat
ls -a         # inkl. versteckter Dateien
ls -lh        # menschenlesbare GrÃ¶ÃŸen
ls -la        # Langformat + versteckte Dateien
```

### Beispiele aus dem Fall

```bash
$ ls -la /var/spool/telegraphs
```

### Handsâ€‘onÂ Mission ğŸ—‚ï¸

Vergleiche `ls` und `ls -la` in `~/Investigation`. Welche Dotâ€‘Files findest du?

### HolmesianÂ Insight

> `ls --color` (Standard auf Ubuntu) hebt Dateitypen farblich hervor â€“ erkennt man schnell falsche Endungen.

### Quizfrage

**Option fÃ¼r menschenlesbare GrÃ¶ÃŸen?** â†’Â `-h`

---

## KapitelÂ 3Â â€“ `cd`

### Szene

Kutsche Richtung `/var/log`. Du wechselst den Pfad, wÃ¤hrend Regen aufs Dach trommelt.

### Was macht der Befehl?

`cd` Ã¤ndert das aktuelle Arbeitsverzeichnis.

### Warum brauche ich ihn?

* Navigation zwischen Projektâ€‘Ordnern
* TemporÃ¤r Logs oder Backups prÃ¼fen

### Cheatâ€¯Sheet

| KÃ¼rzel | Bedeutung           | Beispiel |
| ------ | ------------------- | -------- |
| `..`   | ein Ordner hoch     | `cd ..`  |
| `~`    | Homeâ€‘Verzeichnis    | `cd ~`   |
| `-`    | letztes Verzeichnis | `cd -`   |

### Beispiele aus dem Fall

```bash
$ cd /var/log
$ cd -                # zurÃ¼ck zur BakerÂ Street
```

### Handsâ€‘onÂ Mission ğŸš•

`cd ~/Investigation` â†’ `cd /tmp` â†’ `cd -` â†’Â `pwd` prÃ¼fen.

### HolmesianÂ Insight

> Mit Tabâ€‘Completion (`cd /va<Tab>`) vermeidest du Tippfehler.

### Quizfrage

**KÃ¼rzel fÃ¼r RÃ¼cksprung?**Â â†’Â `-`

---

## KapitelÂ 4Â â€“ `touch`

### Szene

Im Posthof markiert ihr den Fundort: eine neue Datei als â€Kreidekreisâ€œ.

### Was macht der Befehl?

`touch` erstellt leere Dateien oder Ã¤ndert Zeitstempel.

### Warum brauche ich ihn?

* Platzhalter anlegen
* Zeitstempel testen oder fÃ¤lschen

### Cheatâ€¯Sheet

```bash
touch FILE                 # neue Datei
touch -a FILE              # nur Zugriffszeit Ã¤ndern
touch -t 202501011200 FILE # manueller Zeitstempel
```

### Beispiele aus dem Fall

```bash
$ touch ~/Investigation/footprint.txt
```

### Handsâ€‘onÂ Mission ğŸ‘£

Aktualisiere den Zeitstempel von `footprint.txt` mit `-a` und erstelle `clue1â€¦3`.

### HolmesianÂ Insight

> Ein frischer *mtime* kann Suchskripte in die Irre fÃ¼hren.

### Quizfrage

**Welches Flag Ã¤ndert nur den Zugriffsâ€‘Zeitstempel?** â†’Â `-a`

---

## KapitelÂ 5Â â€“ `cat`Â &Â `less`

### Szene

ZurÃ¼ck in 221B: Eine kurze Notiz liest du mit `cat`, das Logbuch mit `less`.

### Was machen die Befehle?

* `cat` zeigt (oder verkettet) Dateien sofort.
* `less` zeigt Inhalte seitenweise, mit Suche & Scroll.

### Warum brauche ich sie?

* Kleinere Dateien schnell ansehen (`cat note.txt`)
* GroÃŸe Logs bequem durchsuchen (`less server.log`)

### Cheatâ€¯Sheet

| Befehl        | Zweck               |
| ------------- | ------------------- |
| `cat -n FILE` | Zeilennummern       |
| `/Suchwort`   | Suche in *less*     |
| `Space`/`b`   | vor/zurÃ¼ck blÃ¤ttern |
| `q`           | beenden             |

### Beispiele aus dem Fall

```bash
$ cat ~/Investigation/note.txt
$ less ~/Investigation/server.log
```

### Handsâ€‘onÂ Mission ğŸ“œ

Suche in `server.log` nach â€Suspiciousâ€œ (`/Suspicious`).

### HolmesianÂ Insight

> DrÃ¼cke `&` in *less*, um nur Zeilen mit Muster anzuzeigen â€“ Miniâ€‘Grep.

### Quizfrage

**Taste zum Verlassen von *less*?** â†’Â `q`

---

## KapitelÂ 6Â â€“ `cp`

### Szene

Bahndepot KingsÂ Cross: *DossierÂ 42* muss ans Yard, ohne Original zu verlieren.

### Was macht der Befehl?

`cp` kopiert Dateien oder Ordner.

### Warum brauche ich ihn?

* Backups erstellen
* Dateien fÃ¼r Tests duplizieren

### Cheatâ€¯Sheet

```bash
cp SOURCE TARGET          # Datei
cp -r DIR TARGET_DIR      # Ordner rekursiv
cp -i FILE TARGET         # Nachfragen
cp -v ...                 # ausfÃ¼hrlich
```

### Beispiele aus dem Fall

```bash
$ cp -ri -v ~/Investigation/dossier ~/Archive/Case42/
```

### Handsâ€‘onÂ Mission ğŸ—„ï¸

Kopiere `~/Investigation/dossier` rekursiv nach `~/Archive/Case42`, jede Ãœberschreibung bestÃ¤tigen.

### HolmesianÂ Insight

> Mit `cp -r --parents` bleibt Verzeichnisstruktur erhalten.

### Quizfrage

**Flag fÃ¼r rekursives Kopieren?** â†’Â `-r`

---

## KapitelÂ 7Â â€“ `mv`

### Szene

Eine Datei `secret.txt` braucht Tarnnamen und neuen Standort.

### Was macht der Befehl?

`mv` verschiebt oder benennt.

### Warum brauche ich ihn?

* Refactoring von Projekt-Strukturen
* Dateien tarnen

### Cheatâ€¯Sheet

```bash
mv OLD NEW        # umbenennen
mv FILE DIR/      # verschieben
mv -i ...         # nachfragen
mv -b ...         # Backup (~)
```

### Beispiele aus dem Fall

```bash
$ mv ~/Investigation/secret.txt umbrella_letter.txt
```

### Handsâ€‘onÂ Mission ğŸ©

`mv -i ~/Investigation/footprint.txt ~/Beweisarchiv/evidence.dat`

### HolmesianÂ Insight

> Auf derselben Partition ist `mv` blitzschnell â€“ nur VerzeichnisÂ­eintrÃ¤ge Ã¤ndern sich.

### Quizfrage

**Option fÃ¼r automatisches Backup?** â†’Â `-b`

---

## KapitelÂ 8Â â€“ `mkdir`

### Szene

Scotland Yard: Ein geheimes Archiv wird aufgebaut.

### Was macht der Befehl?

`mkdir` erstellt Verzeichnisse.

### Warum brauche ich ihn?

* Projektâ€‘ oder Backupâ€‘Strukturen anlegen

### Cheatâ€¯Sheet

```bash
mkdir DIR           # einzelner Ordner
mkdir -p A/B/C      # komplette Pfadkette
```

### Beispiele aus dem Fall

```bash
$ mkdir -p ~/ScotlandYard/Case42/Revolver
```

### Handsâ€‘onÂ Mission ğŸ°

Erstelle `~/Holmes/Archive/1895/Blackwood` in einem Befehl.

### HolmesianÂ Insight

> `mkdir -vp` zeigt jede neu angelegte Ebene â€“ nÃ¼tzlich in Skripten.

### Quizfrage

**Flag fÃ¼r Zwischenverzeichnisse?** â†’Â `-p`

---

## KapitelÂ 9Â â€“ `rm`

### Szene

`trap.sh` wird entschÃ¤rft, Spurverzeichnis gelÃ¶scht.

### Was macht der Befehl?

`rm` lÃ¶scht Dateien oder Ordner.

### Warum brauche ich ihn?

* AufrÃ¤umen temporÃ¤rer Daten

### Cheatâ€¯Sheet

```bash
rm FILE           # Datei
rm -i FILE        # interaktiv
rm -r DIR         # Ordner rekursiv
rm -rf DIR        # rekursiv + force
```

### Beispiele aus dem Fall

```bash
$ rm -i /tmp/trap.sh
$ rm -rf /tmp/footprints
```

### Handsâ€‘onÂ Mission ğŸ”¥

LÃ¶sche `trap.sh` interaktiv, dann `/tmp/footprints` ohne RÃ¼ckfrage.

### HolmesianÂ Insight

> `rm -I` fragt nur, wenn mehr als drei Dateien betroffen sind â€“ guter Kompromiss.

### Quizfrage

**Flagâ€‘Kombi fÃ¼r stilles rekursives LÃ¶schen?** â†’Â `-rf`

---

## KapitelÂ 10Â â€“ `file`

### Szene

Labor 221B: Ist `mysterious.bin` gefÃ¤hrlicher Code?

### Was macht der Befehl?

`file` erkennt Dateitypen anhand Signatur.

### Warum brauche ich ihn?

* Getarnte Dateien enttarnen
* MIMEâ€‘Typ prÃ¼fen

### Cheatâ€¯Sheet

```bash
file FILE1 FILE2
file -i FILE       # MIME-Typ
```

### Beispiele aus dem Fall

```bash
$ file ~/Investigation/mysterious.bin
$ file ~/LightBackup/evidence.jpg
```

### Handsâ€‘onÂ Mission ğŸ”¬

PrÃ¼fe, ob `evidence.jpg` wirklich ein JPEG ist.

### HolmesianÂ Insight

> Viele Malware tarnt sich als `.jpg`. `file` deckt das sofort auf.

### Quizfrage

**Befehl zur TypprÃ¼fung?** â†’Â `file`

---

## KapitelÂ 11Â â€“ `find`

### Szene

Die *Baker Street Irregulars* suchen, du durchkÃ¤mmst `/var/spool/telegraphs`.

### Was macht der Befehl?

`find` durchsucht Verzeichnisse nach Kriterien.

### Warum brauche ich ihn?

* Forensische Suche
* Massenaktionen mit `-exec`

### Cheatâ€¯Sheet

```bash
find PATH -name "*.log"
find PATH -type f -mtime -1
find PATH -size +100M
find PATH -name "*.conf" -exec grep "Port" {} +
```

### Beispiele aus dem Fall

```bash
$ find /var/spool/telegraphs -name "*.tgf"
```

### Handsâ€‘onÂ Mission ğŸ•

Suche `.conf`â€‘Dateien in `/etc`, jÃ¼nger als 7Â Tage:

```bash
find /etc -type f -name "*.conf" -mtime -7 2>/dev/null
```

### HolmesianÂ Insight

> `-printf '%M %s %p\n'` gibt Rechte, GrÃ¶ÃŸe & Pfad â€“ perfekt fÃ¼r Berichte.

### Quizfrage

**Test fÃ¼r â€jÃ¼nger als NÂ Tageâ€œ?** â†’Â `-mtime -N`

---

## KapitelÂ 12Â â€“ `history`

### Szene

Terminals verraten sich durch `history`; du rekonstruierst Befehle.

### Was macht der Befehl?

`history` listet Verlauf, `!!` wiederholt letzten, `Ctrlâ€‘R` sucht.

### Cheatâ€¯Sheet

```bash
history 20   # letzte 20 Befehle
!!           # letzten wiederholen
!42          # EintragÂ 42 ausfÃ¼hren
Ctrl-R ssh   # rÃ¼ckwÃ¤rts nach "ssh"
```

### Handsâ€‘onÂ Mission â³

Finde per `Ctrlâ€‘R` deinen letzten `grep`â€‘Befehl und fÃ¼hre ihn erneut aus.

### Quizfrage

**Shortcut fÃ¼r RÃ¼ckwÃ¤rtsâ€‘Suche?** â†’Â `Ctrl-R`

---

## KapitelÂ 13Â â€“ `man`,Â `help`,Â `whatis`

### Szene

Holmes stÃ¶bert in Folianten; du liest Manpages.

### Cheatâ€¯Sheet

```bash
man ls           # Handbuch
help cd          # Shellâ€‘Builtin
whatis grep      # Kurzbeschreibung
apropos network  # Schlagwortsuche
```

### Handsâ€‘onÂ Mission ğŸ“–

`man cp`, suche `/EXAMPLES`, blÃ¤ttere mit `n` zum nÃ¤chsten Treffer.

### Quizfrage

**Befehl fÃ¼r Kurzbeschreibung?** â†’Â `whatis`

---

## KapitelÂ 14Â â€“ `alias`

### Szene

Im Diogenesâ€‘Club erstellt ihr KÃ¼rzel fÃ¼r lange Befehle.

### Cheatâ€¯Sheet

```bash
alias              # alle anzeigen
alias gs="git status"
unalias gs
source ~/.bashrc   # Reload
```

### Handsâ€‘onÂ Mission âš™ï¸

FÃ¼ge `alias ll="ls -lah"` deiner `~/.bashrc` hinzu und lade sie.

### Quizfrage

**Befehl, um Shellâ€‘Startskript neu zu laden?** â†’Â `source ~/.bashrc`

---

## KapitelÂ 15Â â€“ `exit`

### Szene

Fall gelÃ¶st â€“ ein letzter `exit` beendet die Sitzung.

### Cheatâ€¯Sheet

```bash
exit 0   # erfolgreich
exit 1   # Fehler
logout   # bei Loginâ€‘Shells
Ctrl-D   # EOFâ€‘Shortcut
```

### Handsâ€‘onÂ Mission ğŸ

Beende deine Shell (Ctrlâ€‘D). `echo $?` sollte `0` liefern.

### Quizfrage

**Exitâ€‘Code fÃ¼r Erfolg?** â†’Â `0`

---

## LÃ¶sungÂ (Spoiler)

<details>
<summary>Walkâ€‘through anzeigen</summary>

1. `pwd` â€“ Basislager erkannt.
2. `ls` â€“ Dotâ€‘File `.secret_route` entdeckt.
3. `cd` â€“ Logs geprÃ¼ft.
4. `touch` â€“ Spur gelegt.
5. `less` â€“ â€Suspiciousâ€œâ€‘Eintrag gefunden.
6. `cp` â€“ Dossier gesichert.
7. `mv` â€“ Geheimbotschaft umbenannt.
8. `mkdir` â€“ Tresor erstellt.
9. `rm` â€“ Falle entschÃ¤rft.
10. `file` â€“ BinÃ¤rdatei entlarvt.
11. `find` â€“ Telegrammdateien aufgespÃ¼rt.
12. `history` â€“ TÃ¤terkommandos nachvollzogen.
13. `man` â€“ Syntax geprÃ¼ft.
14. `alias` â€“ schnelle Skripte gebaut.
15. `exit` â€“ Fall beendet.

</details>
